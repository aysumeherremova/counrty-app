<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ölkə Detalları</title>
    <link rel="stylesheet" href="css/detalis.css">
    <link rel="icon" type="image/x-icon" href="png-transparent-earth-globe-world-logo-earth-globe-logo-world-thumbnail.png">
</head>
<body>
    <header>
        <button onclick="goBack()">⇦ Geri</button>
        <h1>Ölkə Detalları</h1>
    </header>

    <div id="country-details" class="country-details">
    </div>

    <script>
        // URL-dən ölkə adını alırıxx
        const urlParams = new URLSearchParams(window.location.search);
        const countryName = decodeURIComponent(urlParams.get('country'));

        let countryData = null;

        fetch("https://restcountries.com/v3.1/name/" + countryName)
            .then(response => response.json())
            .then(data => {
                countryData = data[0]; 
                displayCountryDetails();
            });

        function displayCountryDetails() {
            if (!countryData) {
                document.getElementById("country-details").innerHTML = "<p>Ölkə tapılmadı.</p>";
                return;
            }
            document.getElementById("country-details").innerHTML = `
                <div class="country-card">
                    <img src="${countryData.flags.svg}" alt="${countryData.name.common} Bayrağı" class="country-flag">
                    <div class="country-info">
                        <h2>${countryData.name.common}</h2>
                        <p><strong>Paytaxt:</strong> ${countryData.capital}</p>
                        <p><strong>Region:</strong> ${countryData.region}</p>
                        <p><strong>Ərazi:</strong> ${countryData.area} km<sup>2</sup></p>
                        <p><strong>Əhali:</strong> ${countryData.population}</p>
                        <p><strong>Qonşular:</strong> ${countryData.borders ? countryData.borders.join(", ") : "Yoxdur"}</p>
                    </div>
                </div>
            `;
        }

        function goBack() {
            window.history.back(); 
        }
    </script>
</body>
</html>
